{"ast":null,"code":"import allQuotes from '../../quotes.json';\nexport default ((req, res) => {\n  const {\n    author\n  } = req.query;\n  console.log(req, ' REQ');\n  let quotes = allQuotes;\n\n  if (author) {\n    quotes = quotes.filter(quote => quote.author.toLowerCase().includes(author.toLowerCase()));\n  }\n\n  if (!quotes.length) {\n    quotes = allQuotes.filter(quote => quote.author.toLowerCase() === 'unknown');\n  }\n\n  const quote = quotes[Math.floor(Math.random() * quotes.length)];\n  res.status(200).json(quote);\n});","map":{"version":3,"sources":["C:/Users/Алексей/Desktop/All Work/next-official-guide/pages/api/randomQuote.js"],"names":["allQuotes","req","res","author","query","console","log","quotes","filter","quote","toLowerCase","includes","length","Math","floor","random","status","json"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,mBAAtB;AAEA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3B,QAAM;AAAEC,IAAAA;AAAF,MAAaF,GAAG,CAACG,KAAvB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ,EAAiB,MAAjB;AACA,MAAIM,MAAM,GAAGP,SAAb;;AAEA,MAAIG,MAAJ,EAAY;AACVI,IAAAA,MAAM,GAAGA,MAAM,CAACC,MAAP,CAAeC,KAAD,IACrBA,KAAK,CAACN,MAAN,CAAaO,WAAb,GAA2BC,QAA3B,CAAoCR,MAAM,CAACO,WAAP,EAApC,CADO,CAAT;AAGD;;AACD,MAAI,CAACH,MAAM,CAACK,MAAZ,EAAoB;AAClBL,IAAAA,MAAM,GAAGP,SAAS,CAACQ,MAAV,CACNC,KAAD,IAAWA,KAAK,CAACN,MAAN,CAAaO,WAAb,OAA+B,SADnC,CAAT;AAGD;;AAED,QAAMD,KAAK,GAAGF,MAAM,CAACM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBR,MAAM,CAACK,MAAlC,CAAD,CAApB;AAEAV,EAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBR,KAArB;AACD,CAnBD","sourcesContent":["import allQuotes from '../../quotes.json';\r\n\r\nexport default (req, res) => {\r\n  const { author } = req.query;\r\n  console.log(req, ' REQ');\r\n  let quotes = allQuotes;\r\n\r\n  if (author) {\r\n    quotes = quotes.filter((quote) =>\r\n      quote.author.toLowerCase().includes(author.toLowerCase())\r\n    );\r\n  }\r\n  if (!quotes.length) {\r\n    quotes = allQuotes.filter(\r\n      (quote) => quote.author.toLowerCase() === 'unknown'\r\n    );\r\n  }\r\n\r\n  const quote = quotes[Math.floor(Math.random() * quotes.length)];\r\n\r\n  res.status(200).json(quote);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}